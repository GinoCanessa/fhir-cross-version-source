{
  "resourceType": "StructureDefinition",
  "id": "ImagingSelection",
  "url": "http://hl7.org/fhir/5.0/StructureDefinition/extension-ImagingSelection",
  "name": "XVerExtensionImagingSelection",
  "title": "Cross-Version Extension for FHIR R5:ImagingSelection compared to FHIR R4",
  "status": "draft",
  "experimental": true,
  "description": "ImagingSelection does not exist in target and has no mapping",
  "fhirVersion": "5.0.0",
  "kind": "complex-type",
  "abstract": false,
  "context": [
    {
      "type": "element",
      "expression": "Basic"
    }
  ],
  "type": "Extension",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Extension",
  "derivation": "constraint",
  "snapshot": {
    "element": [
      {
        "id": "Extension",
        "extension": [
          {
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status",
            "valueCode": "normative"
          },
          {
            "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version",
            "valueCode": "4.0.0"
          }
        ],
        "path": "Extension",
        "short": "A selection of DICOM SOP instances and/or frames",
        "definition": "A selection of DICOM SOP instances and/or frames within a single Study and Series. This might include additional specifics such as an image region, an Observation UID or a Segmentation Number, allowing linkage to an Observation Resource or transferring this information along with the ImagingStudy Resource.",
        "comment": "ImagingSelection does not exist in target and has no mapping",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Extension",
          "min": 0,
          "max": "*"
        },
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() > id.count())",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          },
          {
            "key": "ext-1",
            "severity": "error",
            "human": "Must have either extensions or value[x], not both",
            "expression": "extension.exists() != value.exists()",
            "source": "http://hl7.org/fhir/StructureDefinition/Extension"
          }
        ],
        "isModifier": false,
        "mapping": [
          {
            "identity": "rim",
            "map": "n/a,N/A"
          }
        ]
      },
      {
        "id": "Extension.id",
        "path": "Extension.id",
        "representation": [
          "xmlAttr"
        ],
        "short": "Unique id for inter-element referencing",
        "definition": "Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "Element.id",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type",
                "valueUrl": "id"
              }
            ],
            "code": "http://hl7.org/fhirpath/System.String"
          }
        ],
        "condition": [
          "ele-1"
        ],
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "rim",
            "map": "n/a"
          }
        ]
      },
      {
        "id": "Extension.extension",
        "path": "Extension.extension",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "url"
            }
          ],
          "description": "Extensions are always sliced by (at least) url",
          "rules": "open"
        },
        "short": "Additional content defined by implementations",
        "definition": "May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and managable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.",
        "comment": "There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone.",
        "alias": [
          "extensions",
          "user content"
        ],
        "min": 0,
        "max": "*",
        "base": {
          "path": "Element.extension",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "Extension"
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() > id.count())",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          },
          {
            "key": "ext-1",
            "severity": "error",
            "human": "Must have either extensions or value[x], not both",
            "expression": "extension.exists() != value.exists()",
            "source": "http://hl7.org/fhir/StructureDefinition/Extension"
          }
        ],
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "rim",
            "map": "n/a"
          }
        ]
      },
      {
        "id": "Extension.url",
        "path": "Extension.url",
        "representation": [
          "xmlAttr"
        ],
        "short": "identifies the meaning of the extension",
        "definition": "Source of the definition for the extension code - a logical name or a URL.",
        "comment": "The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "Extension.url",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type",
                "valueUrl": "uri"
              }
            ],
            "code": "http://hl7.org/fhirpath/System.String"
          }
        ],
        "fixedUri": "http://hl7.org/fhir/5.0/StructureDefinition/extension-ImagingSelection",
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "rim",
            "map": "N/A"
          }
        ]
      },
      {
        "id": "Extension.value[x]",
        "path": "Extension.value[x]",
        "short": "Value of extension",
        "definition": "Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).",
        "min": 0,
        "max": "0",
        "base": {
          "path": "Extension.value[x]",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "base64Binary"
          },
          {
            "code": "boolean"
          },
          {
            "code": "canonical"
          },
          {
            "code": "code"
          },
          {
            "code": "date"
          },
          {
            "code": "dateTime"
          },
          {
            "code": "decimal"
          },
          {
            "code": "id"
          },
          {
            "code": "instant"
          },
          {
            "code": "integer"
          },
          {
            "code": "integer64"
          },
          {
            "code": "markdown"
          },
          {
            "code": "oid"
          },
          {
            "code": "positiveInt"
          },
          {
            "code": "string"
          },
          {
            "code": "time"
          },
          {
            "code": "unsignedInt"
          },
          {
            "code": "uri"
          },
          {
            "code": "url"
          },
          {
            "code": "uuid"
          },
          {
            "code": "Address"
          },
          {
            "code": "Age"
          },
          {
            "code": "Annotation"
          },
          {
            "code": "Attachment"
          },
          {
            "code": "CodeableConcept"
          },
          {
            "code": "CodeableReference"
          },
          {
            "code": "Coding"
          },
          {
            "code": "ContactPoint"
          },
          {
            "code": "Count"
          },
          {
            "code": "Distance"
          },
          {
            "code": "Duration"
          },
          {
            "code": "HumanName"
          },
          {
            "code": "Identifier"
          },
          {
            "code": "Money"
          },
          {
            "code": "Period"
          },
          {
            "code": "Quantity"
          },
          {
            "code": "Range"
          },
          {
            "code": "Ratio"
          },
          {
            "code": "RatioRange"
          },
          {
            "code": "Reference"
          },
          {
            "code": "SampledData"
          },
          {
            "code": "Signature"
          },
          {
            "code": "Timing"
          },
          {
            "code": "ContactDetail"
          },
          {
            "code": "DataRequirement"
          },
          {
            "code": "Expression"
          },
          {
            "code": "ParameterDefinition"
          },
          {
            "code": "RelatedArtifact"
          },
          {
            "code": "TriggerDefinition"
          },
          {
            "code": "UsageContext"
          },
          {
            "code": "Availability"
          },
          {
            "code": "ExtendedContactDetail"
          },
          {
            "code": "Dosage"
          },
          {
            "code": "Meta"
          }
        ],
        "condition": [
          "ext-1"
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() > id.count())",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ],
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "rim",
            "map": "N/A"
          }
        ]
      },
      {
        "id": "Extension.extension:status",
        "path": "Extension.extension:status",
        "short": "available | entered-in-error | unknown",
        "definition": "The current state of the ImagingSelection resource. This is not the status of any ImagingStudy, ServiceRequest, or Task resources associated with the ImagingSelection.",
        "comment": "Unknown does not represent \"other\" - one of the defined statuses must apply.  Unknown is used when the authoring system is not sure what the current status is.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "Extension.extension:status",
          "min": 1,
          "max": "1"
        },
        "isModifier": true
      },
      {
        "id": "Extension.extension:issued",
        "path": "Extension.extension:issued",
        "short": "Date / Time when this imaging selection was created",
        "definition": "The date and time this imaging selection was created.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "Extension.extension:issued",
          "min": 0,
          "max": "1"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:performer",
        "path": "Extension.extension:performer",
        "short": "Selector of the instances (human or machine)",
        "definition": "Selector of the instances – human or machine.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Extension.extension:performer",
          "min": 0,
          "max": "*"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:basedOn",
        "path": "Extension.extension:basedOn",
        "short": "Associated request",
        "definition": "A list of the diagnostic requests that resulted in this imaging selection being performed.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Extension.extension:basedOn",
          "min": 0,
          "max": "*"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:category",
        "path": "Extension.extension:category",
        "short": "Classifies the imaging selection",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Extension.extension:category",
          "min": 0,
          "max": "*"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:studyUid",
        "path": "Extension.extension:studyUid",
        "short": "DICOM Study Instance UID",
        "definition": "The Study Instance UID for the DICOM Study from which the images were selected.",
        "comment": "See [DICOM PS3.3 C.7.2](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.2.html).",
        "min": 0,
        "max": "1",
        "base": {
          "path": "Extension.extension:studyUid",
          "min": 0,
          "max": "1"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:derivedFrom",
        "path": "Extension.extension:derivedFrom",
        "short": "The imaging study from which the imaging selection is derived",
        "definition": "The imaging study from which the imaging selection is made.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Extension.extension:derivedFrom",
          "min": 0,
          "max": "*"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:endpoint",
        "path": "Extension.extension:endpoint",
        "short": "The network service providing retrieval for the images referenced in the imaging selection",
        "definition": "The network service providing retrieval access to the selected images, frames, etc. See implementation notes for information about using DICOM endpoints.",
        "comment": "Typical endpoint types include DICOM WADO-RS, which is used to retrieve DICOM instances in native or rendered (e.g., JPG, PNG) formats using a RESTful API; DICOM WADO-URI, which can similarly retrieve native or rendered instances, except using an HTTP query-based approach.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Extension.extension:endpoint",
          "min": 0,
          "max": "*"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:seriesUid",
        "path": "Extension.extension:seriesUid",
        "short": "DICOM Series Instance UID",
        "definition": "The Series Instance UID for the DICOM Series from which the images were selected.",
        "comment": "See [DICOM PS3.3 C.7.3](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.3.html).",
        "min": 0,
        "max": "1",
        "base": {
          "path": "Extension.extension:seriesUid",
          "min": 0,
          "max": "1"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:seriesNumber",
        "path": "Extension.extension:seriesNumber",
        "short": "DICOM Series Number",
        "definition": "The Series Number for the DICOM Series from which the images were selected.",
        "comment": "See [DICOM PS3.3 C.7.3](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.3.html).",
        "min": 0,
        "max": "1",
        "base": {
          "path": "Extension.extension:seriesNumber",
          "min": 0,
          "max": "1"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:frameOfReferenceUid",
        "path": "Extension.extension:frameOfReferenceUid",
        "short": "The Frame of Reference UID for the selected images",
        "definition": "The Frame of Reference UID identifying the coordinate system that conveys spatial and/or temporal information for the selected images or frames.",
        "comment": "See [DICOM PS3.3 C.7.4.1](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.4.html).",
        "min": 0,
        "max": "1",
        "base": {
          "path": "Extension.extension:frameOfReferenceUid",
          "min": 0,
          "max": "1"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:bodySite",
        "path": "Extension.extension:bodySite",
        "short": "Body part examined",
        "definition": "The anatomic structures examined. See DICOM Part 16 Annex L (http://dicom.nema.org/medical/dicom/current/output/chtml/part16/chapter_L.html) for DICOM to SNOMED-CT mappings.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "Extension.extension:bodySite",
          "min": 0,
          "max": "1"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:focus",
        "path": "Extension.extension:focus",
        "short": "Related resource that is the focus for the imaging selection",
        "definition": "The actual focus of an observation when it is not the patient of record representing something or someone associated with the patient such as a spouse, parent, fetus, or donor. For example, fetus observations in a mother's record.  The focus of an observation could also be an existing condition,  an intervention, the subject's diet,  another observation of the subject,  or a body structure such as tumor or implanted device.   An example use case would be using the Observation resource to capture whether the mother is trained to change her child's tracheostomy tube. In this example, the child is the patient of record and the mother is the focus.",
        "comment": "An imaging selection may reference a DICOM resource that itself references other DICOM resources.\n       e.g. a presentation state references a set of source images or frames.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Extension.extension:focus",
          "min": 0,
          "max": "*"
        },
        "isModifier": false
      },
      {
        "id": "Extension.extension:instance",
        "path": "Extension.extension:instance",
        "short": "The selected instances",
        "definition": "Each imaging selection includes one or more selected DICOM SOP instances.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Extension.extension:instance",
          "min": 0,
          "max": "*"
        },
        "isModifier": false
      },
      {
        "id": "Extension.url",
        "path": "Extension.url",
        "base": {
          "path": "Extension.url"
        },
        "fixedUri": "http://hl7.org/fhir/5.0/StructureDefinition/extension-ImagingSelection"
      }
    ]
  },
  "differential": {
    "element": [
      {
        "path": "Extension",
        "short": "A selection of DICOM SOP instances and/or frames",
        "definition": "A selection of DICOM SOP instances and/or frames within a single Study and Series. This might include additional specifics such as an image region, an Observation UID or a Segmentation Number, allowing linkage to an Observation Resource or transferring this information along with the ImagingStudy Resource.",
        "comment": "ImagingSelection does not exist in target and has no mapping",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:status",
        "short": "available | entered-in-error | unknown",
        "definition": "The current state of the ImagingSelection resource. This is not the status of any ImagingStudy, ServiceRequest, or Task resources associated with the ImagingSelection.",
        "comment": "Unknown does not represent \"other\" - one of the defined statuses must apply.  Unknown is used when the authoring system is not sure what the current status is.",
        "min": 1,
        "max": "1",
        "isModifier": true
      },
      {
        "path": "Extension.extension:status.value[x]",
        "min": 1,
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "ImagingSelectionStatus"
            }
          ],
          "strength": "required",
          "description": "Allowed values based on differential of http://hl7.org/fhir/ValueSet/imagingselection-status|5.0.0 compared with R4",
          "valueSet": "http://hl7.org/fhir/uv/xver/ValueSet/R5-R4-imagingselection-status|1.0.0"
        }
      },
      {
        "path": "Extension.extension:status.url",
        "fixedUri": "status"
      },
      {
        "path": "Extension.extension:issued",
        "short": "Date / Time when this imaging selection was created",
        "definition": "The date and time this imaging selection was created.",
        "min": 0,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:issued.value[x]",
        "min": 1,
        "type": [
          {
            "code": "instant"
          }
        ]
      },
      {
        "path": "Extension.extension:issued.url",
        "fixedUri": "issued"
      },
      {
        "path": "Extension.extension:performer",
        "short": "Selector of the instances (human or machine)",
        "definition": "Selector of the instances – human or machine.",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:performer.extension:function",
        "short": "Type of performer",
        "definition": "Distinguishes the type of involvement of the performer.",
        "min": 0,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:performer.extension:function.value[x]",
        "min": 1,
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "EventPerformerFunction"
            }
          ],
          "strength": "extensible",
          "description": "The type of involvement of the performer.",
          "valueSet": "http://hl7.org/fhir/ValueSet/series-performer-function"
        }
      },
      {
        "path": "Extension.extension:performer.extension:function.url",
        "fixedUri": "function"
      },
      {
        "path": "Extension.extension:performer.extension:actor",
        "short": "Author (human or machine)",
        "definition": "Author – human or machine.",
        "min": 0,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:performer.extension:actor.value[x]",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Practitioner",
              "http://hl7.org/fhir/StructureDefinition/PractitionerRole",
              "http://hl7.org/fhir/StructureDefinition/Device",
              "http://hl7.org/fhir/StructureDefinition/Organization",
              "http://hl7.org/fhir/StructureDefinition/CareTeam",
              "http://hl7.org/fhir/StructureDefinition/Patient",
              "http://hl7.org/fhir/StructureDefinition/RelatedPerson",
              "http://hl7.org/fhir/StructureDefinition/HealthcareService"
            ]
          }
        ]
      },
      {
        "path": "Extension.extension:performer.extension:actor.url",
        "fixedUri": "actor"
      },
      {
        "path": "Extension.extension:performer.value[x]",
        "max": "0"
      },
      {
        "path": "Extension.extension:performer.url",
        "fixedUri": "performer"
      },
      {
        "path": "Extension.extension:basedOn",
        "short": "Associated request",
        "definition": "A list of the diagnostic requests that resulted in this imaging selection being performed.",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:basedOn.value[x]",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/CarePlan",
              "http://hl7.org/fhir/StructureDefinition/ServiceRequest",
              "http://hl7.org/fhir/StructureDefinition/Appointment",
              "http://hl7.org/fhir/StructureDefinition/AppointmentResponse",
              "http://hl7.org/fhir/StructureDefinition/Task"
            ]
          }
        ]
      },
      {
        "path": "Extension.extension:basedOn.url",
        "fixedUri": "basedOn"
      },
      {
        "path": "Extension.extension:category",
        "short": "Classifies the imaging selection",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:category.value[x]",
        "min": 1,
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "ImagingSelectionCode"
            }
          ],
          "strength": "example",
          "description": "Key Object Selection Document Title.",
          "valueSet": "http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_7010.html"
        }
      },
      {
        "path": "Extension.extension:category.url",
        "fixedUri": "category"
      },
      {
        "path": "Extension.extension:studyUid",
        "short": "DICOM Study Instance UID",
        "definition": "The Study Instance UID for the DICOM Study from which the images were selected.",
        "comment": "See [DICOM PS3.3 C.7.2](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.2.html).",
        "min": 0,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:studyUid.value[x]",
        "min": 1,
        "type": [
          {
            "code": "id"
          }
        ]
      },
      {
        "path": "Extension.extension:studyUid.url",
        "fixedUri": "studyUid"
      },
      {
        "path": "Extension.extension:derivedFrom",
        "short": "The imaging study from which the imaging selection is derived",
        "definition": "The imaging study from which the imaging selection is made.",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:derivedFrom.value[x]",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/ImagingStudy",
              "http://hl7.org/fhir/StructureDefinition/DocumentReference"
            ]
          }
        ]
      },
      {
        "path": "Extension.extension:derivedFrom.url",
        "fixedUri": "derivedFrom"
      },
      {
        "path": "Extension.extension:endpoint",
        "short": "The network service providing retrieval for the images referenced in the imaging selection",
        "definition": "The network service providing retrieval access to the selected images, frames, etc. See implementation notes for information about using DICOM endpoints.",
        "comment": "Typical endpoint types include DICOM WADO-RS, which is used to retrieve DICOM instances in native or rendered (e.g., JPG, PNG) formats using a RESTful API; DICOM WADO-URI, which can similarly retrieve native or rendered instances, except using an HTTP query-based approach.",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:endpoint.value[x]",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Endpoint"
            ]
          }
        ]
      },
      {
        "path": "Extension.extension:endpoint.url",
        "fixedUri": "endpoint"
      },
      {
        "path": "Extension.extension:seriesUid",
        "short": "DICOM Series Instance UID",
        "definition": "The Series Instance UID for the DICOM Series from which the images were selected.",
        "comment": "See [DICOM PS3.3 C.7.3](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.3.html).",
        "min": 0,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:seriesUid.value[x]",
        "min": 1,
        "type": [
          {
            "code": "id"
          }
        ]
      },
      {
        "path": "Extension.extension:seriesUid.url",
        "fixedUri": "seriesUid"
      },
      {
        "path": "Extension.extension:seriesNumber",
        "short": "DICOM Series Number",
        "definition": "The Series Number for the DICOM Series from which the images were selected.",
        "comment": "See [DICOM PS3.3 C.7.3](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.3.html).",
        "min": 0,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:seriesNumber.value[x]",
        "min": 1,
        "type": [
          {
            "code": "unsignedInt"
          }
        ]
      },
      {
        "path": "Extension.extension:seriesNumber.url",
        "fixedUri": "seriesNumber"
      },
      {
        "path": "Extension.extension:frameOfReferenceUid",
        "short": "The Frame of Reference UID for the selected images",
        "definition": "The Frame of Reference UID identifying the coordinate system that conveys spatial and/or temporal information for the selected images or frames.",
        "comment": "See [DICOM PS3.3 C.7.4.1](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.4.html).",
        "min": 0,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:frameOfReferenceUid.value[x]",
        "min": 1,
        "type": [
          {
            "code": "id"
          }
        ]
      },
      {
        "path": "Extension.extension:frameOfReferenceUid.url",
        "fixedUri": "frameOfReferenceUid"
      },
      {
        "path": "Extension.extension:bodySite",
        "short": "Body part examined",
        "definition": "The anatomic structures examined. See DICOM Part 16 Annex L (http://dicom.nema.org/medical/dicom/current/output/chtml/part16/chapter_L.html) for DICOM to SNOMED-CT mappings.",
        "min": 0,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:bodySite.value[x]",
        "max": "0"
      },
      {
        "path": "Extension.extension:bodySite.extension:CodeableReference",
        "sliceName": "CodeableReference",
        "sliceIsConstraining": true,
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/5.0/StructureDefinition/extension-CodeableReference"
            ]
          }
        ]
      },
      {
        "path": "Extension.extension:bodySite.url",
        "fixedUri": "bodySite"
      },
      {
        "path": "Extension.extension:focus",
        "short": "Related resource that is the focus for the imaging selection",
        "definition": "The actual focus of an observation when it is not the patient of record representing something or someone associated with the patient such as a spouse, parent, fetus, or donor. For example, fetus observations in a mother's record.  The focus of an observation could also be an existing condition,  an intervention, the subject's diet,  another observation of the subject,  or a body structure such as tumor or implanted device.   An example use case would be using the Observation resource to capture whether the mother is trained to change her child's tracheostomy tube. In this example, the child is the patient of record and the mother is the focus.",
        "comment": "An imaging selection may reference a DICOM resource that itself references other DICOM resources.\n       e.g. a presentation state references a set of source images or frames.",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:focus.value[x]",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/ImagingSelection"
            ]
          }
        ]
      },
      {
        "path": "Extension.extension:focus.url",
        "fixedUri": "focus"
      },
      {
        "path": "Extension.extension:instance",
        "short": "The selected instances",
        "definition": "Each imaging selection includes one or more selected DICOM SOP instances.",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:uid",
        "short": "DICOM SOP Instance UID",
        "definition": "The SOP Instance UID for the selected DICOM instance.",
        "comment": "See [DICOM PS3.3 C.12.1](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.12.html).",
        "min": 1,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:uid.value[x]",
        "min": 1,
        "type": [
          {
            "code": "id"
          }
        ]
      },
      {
        "path": "Extension.extension:instance.extension:uid.url",
        "fixedUri": "uid"
      },
      {
        "path": "Extension.extension:instance.extension:number",
        "short": "DICOM Instance Number",
        "definition": "The Instance Number for the selected DICOM instance.",
        "comment": "See [DICOM PS3.3 C.7.6.1](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.6.html#sect_C.7.6.1).\n       Note: A multiframe instance has a single instance number with each frame identified by a frame number.",
        "min": 0,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:number.value[x]",
        "min": 1,
        "type": [
          {
            "code": "unsignedInt"
          }
        ]
      },
      {
        "path": "Extension.extension:instance.extension:number.url",
        "fixedUri": "number"
      },
      {
        "path": "Extension.extension:instance.extension:sopClass",
        "short": "DICOM SOP Class UID",
        "definition": "The SOP Class UID for the selected DICOM instance.",
        "comment": "See [DICOM PS3.3 C.12.1](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.12.html).",
        "min": 0,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:sopClass.value[x]",
        "min": 1,
        "type": [
          {
            "code": "Coding"
          }
        ],
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "sopClass"
            }
          ],
          "strength": "extensible",
          "description": "DICOM SOP Classes.",
          "valueSet": "http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_B.5.html#table_B.5-1"
        }
      },
      {
        "path": "Extension.extension:instance.extension:sopClass.url",
        "fixedUri": "sopClass"
      },
      {
        "path": "Extension.extension:instance.extension:subset",
        "short": "The selected subset of the SOP Instance",
        "definition": "Selected subset of the SOP Instance. The content and format of the subset item is determined by the SOP Class of the selected instance.\n       May be one of:\n       - A list of frame numbers selected from a multiframe SOP Instance.\n       - A list of Content Item Observation UID values selected from a DICOM SR or other structured document SOP Instance.\n       - A list of segment numbers selected from a segmentation SOP Instance.\n       - A list of Region of Interest (ROI) numbers selected from a radiotherapy structure set SOP Instance.",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:subset.value[x]",
        "min": 1,
        "type": [
          {
            "code": "string"
          }
        ]
      },
      {
        "path": "Extension.extension:instance.extension:subset.url",
        "fixedUri": "subset"
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion2D",
        "short": "A specific 2D region in a DICOM image / frame",
        "definition": "Each imaging selection instance or frame list might includes an image region, specified by a region type and a set of 2D coordinates.\n       If the parent imagingSelection.instance contains a subset element of type frame, the image region applies to all frames in the subset list.",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion2D.extension:regionType",
        "short": "point | polyline | interpolated | circle | ellipse",
        "definition": "Specifies the type of image region.",
        "comment": "See [DICOM PS3.3 C.10.5.1.2](https://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.10.5.html#sect_C.10.5.1.2).",
        "min": 1,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion2D.extension:regionType.value[x]",
        "min": 1,
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "ImagingSelection2DGraphicType"
            }
          ],
          "strength": "required",
          "description": "Allowed values based on differential of http://hl7.org/fhir/ValueSet/imagingselection-2dgraphictype|5.0.0 compared with R4",
          "valueSet": "http://hl7.org/fhir/uv/xver/ValueSet/R5-R4-imagingselection-2dgraphictype|1.0.0"
        }
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion2D.extension:regionType.url",
        "fixedUri": "regionType"
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion2D.extension:coordinate",
        "short": "Specifies the coordinates that define the image region",
        "definition": "The coordinates describing the image region. Encoded as a set of (column, row) pairs that denote positions in the selected image / frames specified with sub-pixel resolution.\n       The origin at the TLHC of the TLHC pixel is 0.0\\0.0, the BRHC of the TLHC pixel is 1.0\\1.0, and the BRHC of the BRHC pixel is the number of columns\\rows in the image / frames. The values must be within the range 0\\0 to the number of columns\\rows in the image / frames.",
        "comment": "For a description of how 2D coordinates are encoded, see [DICOM PS3.3 C.18.6](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.18.6.html).",
        "min": 1,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion2D.extension:coordinate.value[x]",
        "min": 1,
        "type": [
          {
            "code": "decimal"
          }
        ]
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion2D.extension:coordinate.url",
        "fixedUri": "coordinate"
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion2D.value[x]",
        "max": "0"
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion2D.url",
        "fixedUri": "imageRegion2D"
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion3D",
        "short": "A specific 3D region in a DICOM frame of reference",
        "definition": "Each imaging selection might includes a 3D image region, specified by a region type and a set of 3D coordinates.",
        "min": 0,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion3D.extension:regionType",
        "short": "point | multipoint | polyline | polygon | ellipse | ellipsoid",
        "definition": "Specifies the type of image region.",
        "comment": "See [DICOM PS3.3 C.18.9.1.2](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.18.9.html#sect_C.18.9.1.2).",
        "min": 1,
        "max": "1",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion3D.extension:regionType.value[x]",
        "min": 1,
        "type": [
          {
            "code": "code"
          }
        ],
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "ImagingSelection3DGraphicType"
            }
          ],
          "strength": "required",
          "description": "Allowed values based on differential of http://hl7.org/fhir/ValueSet/imagingselection-3dgraphictype|5.0.0 compared with R4",
          "valueSet": "http://hl7.org/fhir/uv/xver/ValueSet/R5-R4-imagingselection-3dgraphictype|1.0.0"
        }
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion3D.extension:regionType.url",
        "fixedUri": "regionType"
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion3D.extension:coordinate",
        "short": "Specifies the coordinates that define the image region",
        "definition": "The coordinates describing the image region. Encoded as an ordered set of (x,y,z) triplets (in mm and may be negative) that define a region of interest in the patient-relative Reference Coordinate System defined by ImagingSelection.frameOfReferenceUid element.",
        "comment": "For a description of how 3D coordinates are encoded, see [DICOM PS3.3 C.18.9](http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.18.9.html).",
        "min": 1,
        "max": "*",
        "isModifier": false
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion3D.extension:coordinate.value[x]",
        "min": 1,
        "type": [
          {
            "code": "decimal"
          }
        ]
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion3D.extension:coordinate.url",
        "fixedUri": "coordinate"
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion3D.value[x]",
        "max": "0"
      },
      {
        "path": "Extension.extension:instance.extension:imageRegion3D.url",
        "fixedUri": "imageRegion3D"
      },
      {
        "path": "Extension.extension:instance.value[x]",
        "max": "0"
      },
      {
        "path": "Extension.extension:instance.url",
        "fixedUri": "instance"
      },
      {
        "path": "Extension.value[x]",
        "max": "0"
      },
      {
        "path": "Extension.url",
        "fixedUri": "http://hl7.org/fhir/5.0/StructureDefinition/extension-ImagingSelection"
      }
    ]
  }
}